.\" Copyright (C) 2004 International Business Machines Corporation
.\" Written by Kathy Robertson based on the Trusted Computing Group Software Stack Specification Version 1.1 Golden
.\"
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "Tspi_Policy_SetSecret" 3 "2004-05-26" "TSS 1.1" "TCG Software Stack Developer's Reference"
.SH NAME
Tspi_Policy_SetSecret \- set the authorization data of a policy object and define the handling of its retrieval
.SH "SYNOPSIS"
.ad l
.hy 0
.B #include <tss/tss.h>
.sp
.BI "TSS_RESULT Tspi_Policy_SetSecret(TSS_HPOLICY " hPolicy ", TSS_FLAG " secretMode ", UINT32 " ulSecretLength ", BYTE* " rgbSecret ")
.sp
.ad
.hy

.SH "DESCRIPTION"
.PP
\fBTSS_Policy_SetSecret\fR  
sets the authorization data for an object. This mthod also defines the handling of its retrieving. There are mand different paths as specified by the secretMode Flag.
.SH "PARAMETERS"
.PP
.SS hPolicy
The handle of the policy object.
.PP
.SS secretMode
Flag indicating the policy secret mode to set.
.PP
.SS ulSecretLength
The length (in bytes) of the rgbSecret parameter.
.PP
.SS rgbSecret
The secret data blob.
.SH "RETURN CODES"
.PP
\fBTspi_Policy_SetSecret\fR returns TSS_SUCCESS on success, otherwise one of the following values are returned:
.TP
.SM TSS_E_INVALID_HANDLE - hPolicy is an invalid parameter.
.TP
.SM TSS_E_INTERNAL_ERROR - The command failed the test.
.SH "CONFORMING TO"

.PP
\fBTspi_Policy_SetSecret\fR conforms to the Trusted Computing Group Software Specification version 1.1 Golden
.SH "SEE ALSO"

.PP
\fBTspi_Policy_FlushSecret\fR(3).
