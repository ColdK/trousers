.\" Copyright (C) 2004 International Business Machines Corporation
.\" Written by Megan Schneider based on the Trusted Computing Group Software Stack Specification Version 1.1 Golden
.\"
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "Tspi_TPM_GetCapability" 3 "2004-05-25" "TSS 1.1"
.ce 1
TCG Software Stack Developer's Reference
.SH NAME
Tspi_TPM_GetCapability \- get information on the capabilities of the TPM
.SH "SYNOPSIS"
.ad l
.hy 0
.B #include <tss/tss.h>
.br
.BI "TSS_RESULT Tspi_TPM_GetCapability(TSS_HTPM " hTPM ", TSS_FLAG " capArea ","
.BI	"UINT32 " ulSubCapLength ", BYTE* " rgbSubCap ", "
.BI	"UINT32 " *pulRespDataLength ", BYTE " **prgbRespData ");"
.sp
.ad
.hy

.SH "DESCRIPTION"
.PP
\fBTspi_TPM_GetCapability\fR 
gets information on various capabilities of the TPM. This command can
be used to learn how many PCRs the TPM supports, etc.

.SH "PARAMETERS"
.PP
.SS hTPM
The \fIhTPM\fR parameter is used to specify the handle of the TPM object.
.SS capArea
The \fIcapArea\fR parameter is the flag indicating the attribute to query.
.SS ulSubCapLength
The \fIulSubCapLength\fR parameter is the length in bytes of the
\fIrgbSubCap\fR parameter.
.SS rgbSubCap
The \fIrgbSubCap\fR parameter is the data indicating the attribute to query.
.SS pulRespDataLength
The \fIpulRespDataLength\fR parameter is the length in bytes of the
\fIprgbRespData\fR parameter.
.SS prgbRespData
The \fIprgbRespData\fR parameter receives a pointer to the actual data
of the specified attribute.

.SH "RETURN CODES"
.PP
\fBTspi_TPM_GetCapability\fR returns TSS_SUCCESS on success, otherwise
one of the following values is returned:
.TP
.SM TSS_E_INVALID_HANDLE
\fIhTPM\fR is not a valid handle.

.TP
.SM TSS_E_INTERNAL_ERROR
An internal SW error has been detected.

.TP
.SM TSS_E_BAD_PARAMETER
One or more parameters is bad.

.SH "CONFORMING TO"

.PP
\fBTspi_TPM_GetCapability\fR conforms to the Trusted Computing Group
Software Specification version 1.1 Golden

.SH "SEE ALSO"

.PP
\fBTspi_TPM_GetCapabilitySigned\fR(3), \fBTspi_TPM_GetEvent\fR(3).

